---
interface Props {
	level: number;
	id: string;
}

const { level, id } = Astro.props;

// Detect if we're on the home page
// If home page, shift heading levels by 1 (h1 -> h2, h2 -> h3, etc.)
const isFeed =
	Astro.url.pathname === "/" ||
	Astro.url.pathname === "/articles/" ||
	Astro.url.pathname === "/notes/";
const adjustedLevel = isFeed ? Math.min(level + 1, 6) : level;
const Tag = `h${adjustedLevel}` as keyof HTMLElementTagNameMap;

/* Only assign id if not home
Trade-off: You lose anchor functionality on the homepage. But thatâ€™s almost never needed, since the homepage is just a feed, not the canonical location of the content. */
const uniqueID = isFeed ? undefined : id;
---

<Tag id={uniqueID}>
	<slot />
</Tag>
